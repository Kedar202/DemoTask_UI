<app-layout></app-layout>
<div class="container">
    <div class="text-center">
        <h3>Transaction Form</h3>
    </div>
    <div class="w-100 m-auto">
        <form [formGroup]="customerForm" (ngSubmit)="onSubmit(customerForm)">
            <div class="form-container">
                <section class="section-container py-3 mb-4 border-bottom">
                    <div>
                        <label for="floatingInput">Is Customer</label>
                        <br/>
                        <input type="radio" formControlName="isCustomer" id="floatingInput" value="NEW" name="isCustomer"/>New
                        <input type="radio" formControlName="isCustomer" id="floatingInput" value="EXISTING" name="isCustomer"/> Existing
                        <div class="error" *ngIf="customerForm.get('isCustomer').invalid && (customerForm.get('isCustomer').dirty || customerForm.get('isCustomer').touched)">
                            Please select Anyone.
                        </div>
                    </div>
                    <div>
                        <label for="floatingInput">Reference</label>
                        <input type="text" formControlName="reference" class="form-control" id="floatingInput"/>
                        <div class="error" *ngIf="customerForm.get('reference').invalid && (customerForm.get('reference').dirty || customerForm.get('reference').touched)">
                            Please provide a Reference Number.
                        </div>
                    </div>
                    <div>
                        <label for="floatingInput">Customer Number</label>
                        <input type="text" formControlName="customerNumber" class="form-control" id="floatingInput"/>
                        <div class="error" *ngIf="customerForm.get('customerNumber').invalid && (customerForm.get('customerNumber').dirty || customerForm.get('customerNumber').touched)">
                            <div *ngIf="customerForm.get('customerNumber').errors.pattern">
                                Please Enter Number Only
                            </div>
                            <div *ngIf="customerForm.get('customerNumber').errors.required">
                                Please provide a Customer Number.
                            </div>
                        </div> 
                    </div>
                    <div>
                        <label for="floatingInput">Customer Name</label>
                        <input type="text" formControlName="customerName" class="form-control" id="floatingInput"/>
                        <div class="error" *ngIf="customerForm.get('customerName').invalid && (customerForm.get('customerName').dirty || customerForm.get('customerName').touched)">
                            <div *ngIf="customerForm.get('customerName').errors.pattern">
                                Please Enter Characters Only
                            </div>
                            <div *ngIf="customerForm.get('customerName').errors.required">
                                Please provide a Customer Name.
                            </div>
                        </div> 
                    </div>
                    
                    <div>
                        <label for="floatingInput">Customer Phonenumber</label>
                        <input type="text" formControlName="customerPhoneNumber" class="form-control" id="floatingInput"/>
                        <div class="error" *ngIf="customerForm.get('customerPhoneNumber').invalid && (customerForm.get('customerPhoneNumber').dirty || customerForm.get('customerPhoneNumber').touched)">
                            <div *ngIf="customerForm.get('customerPhoneNumber').errors.pattern">
                                Please Enter Number Only
                            </div>
                            <div *ngIf="customerForm.get('customerPhoneNumber').errors.required">
                                Please provide a Customer Phone Number.
                            </div>
                            <div *ngIf="customerForm.get('customerPhoneNumber').hasError('maxlength') || customerForm.get('customerPhoneNumber').hasError('minlength')">
                                Please provide 10 Digit Only.
                            </div>
                        </div> 
                    </div>
                    <div>
                        <label for="floatingInput">Transfer Amount</label>
                        <input type="text" formControlName="transferAmount" class="form-control" id="floatingInput"/>
                        <div class="error" *ngIf="customerForm.get('transferAmount').invalid && (customerForm.get('transferAmount').dirty || customerForm.get('transferAmount').touched)">
                            <div *ngIf="customerForm.get('transferAmount').errors.pattern">
                                Please Enter Number Only
                            </div>
                            <div *ngIf="customerForm.get('transferAmount').errors.required">
                                Please provide a Transfer Amount.
                            </div>
                        </div> 
                    </div>
                    <div>
                        <label for="floatingInput">Transfer Currency</label>
                        <select id="floatingInput" class="form-control" formControlName="transferCurrency">
                            <option disabled value="null">Select Currency</option>
                            <option value="AED">AED</option>
                            <option value="EUR">EUR</option>
                            <option value="CHF">CHF</option>
                            <option value="MUR">MUR</option>
                            <option value="USD">USD</option>
                        </select>
                        <div class="error" *ngIf="customerForm.get('transferCurrency').invalid && (customerForm.get('transferCurrency').dirty || customerForm.get('transferCurrency').touched)">
                            <div *ngIf="customerForm.get('transferCurrency').errors.required">
                                Please provide a Transfer Currency.
                            </div>
                        </div> 
                    </div>
                    <div>
                        <label for="floatingInput">Customer Address</label>
                        <textarea name="customerAddress" class="form-control" formControlName="customerAddress" cols="33" rows="2"></textarea>
                        <div class="error" *ngIf="customerForm.get('customerAddress').invalid && (customerForm.get('customerAddress').dirty || customerForm.get('customerAddress').touched)">
                            <div *ngIf="customerForm.get('customerAddress').errors.required">
                                Please provide a Customer Address.
                            </div>
                        </div> 
                    </div>
                </section>
                <section class="section-container py-3 mb-4 border-bottom">
                    <div>
                        <label for="floatingInput">Benificiary Bank</label>
                        <input type="text" formControlName="benificiaryBank" class="form-control" id="floatingInput"/>
                        <div class="error" *ngIf="customerForm.get('benificiaryBank').invalid && (customerForm.get('benificiaryBank').dirty || customerForm.get('benificiaryBank').touched)">
                            <div *ngIf="customerForm.get('benificiaryBank').errors.pattern">
                                Please Enter Characters Only
                            </div>
                            <div *ngIf="customerForm.get('benificiaryBank').errors.required">
                                Please provide a Benificiary Bank.
                            </div>
                        </div> 
                    </div>
                    <div>
                        <label for="floatingInput">Benificiary Account Number</label>
                        <input type="text" formControlName="benificiaryAccNumber" class="form-control" id="floatingInput"/>
                        <div class="error" *ngIf="customerForm.get('benificiaryAccNumber').invalid && (customerForm.get('benificiaryAccNumber').dirty || customerForm.get('benificiaryAccNumber').touched)">
                            <div *ngIf="customerForm.get('benificiaryAccNumber').errors.pattern">
                                Please Enter Number Only
                            </div>
                            <div *ngIf="customerForm.get('benificiaryAccNumber').errors.required">
                                Please provide a Benificiary Account Number.
                            </div>
                        </div> 
                    </div>
                    <div>
                        <label for="floatingInput">Payment Detail</label>
                        <input type="text" formControlName="paymentDetail" class="form-control" id="floatingInput"/>
                        <div class="error" *ngIf="customerForm.get('paymentDetail').invalid && (customerForm.get('paymentDetail').dirty || customerForm.get('paymentDetail').touched)">
                            <div *ngIf="customerForm.get('paymentDetail').errors.required">
                                Please provide a Payment Detail.
                            </div>
                        </div> 
                    </div>
                    <div>
                        <label for="floatingInput">Region</label>
                        <select id="floatingInput" class="form-control" formControlName="region">
                            <option disabled value="null">Select Region</option>
                            <option value="PORT_LOUIS">Port Louis</option>
                            <option value="CUREPIPE">Curepipe</option>
                            <option value="VACOAS">Vacoas</option>
                            <option value="PORT_MATHURIN">Port Mathurin</option>
                        </select>
                        <div class="error" *ngIf="customerForm.get('region').invalid && (customerForm.get('region').dirty || customerForm.get('region').touched)">
                            <div *ngIf="customerForm.get('region').errors.required">
                                Please select a Region.
                            </div>
                        </div> 
                    </div>
                </section>
                <section class="section-container py-3 mb-4 border-bottom">
                    <div>
                        <label for="floatingInput">Card Number</label>
                        <input type="text" formControlName="cardNumber" class="form-control" id="floatingInput"/>
                        <div class="error" *ngIf="customerForm.get('cardNumber').invalid && (customerForm.get('cardNumber').dirty || customerForm.get('cardNumber').touched)">
                            <div *ngIf="customerForm.get('cardNumber').errors.pattern">
                                Please Enter Number Only
                            </div>
                            <div *ngIf="customerForm.get('cardNumber').errors.required">
                                Please provide a Card Number.
                            </div>
                        </div> 
                    </div>
                    <div class="card-expiry">
                        <div>
                            <label for="floatingInput">Expiry Date</label>
                            <input type="text" formControlName="expiryDate" class="form-control" id="floatingInput"/>
                            <div class="error" *ngIf="customerForm.get('expiryDate').invalid && (customerForm.get('expiryDate').dirty || customerForm.get('expiryDate').touched)">
                                <div *ngIf="customerForm.get('expiryDate').errors.pattern">
                                    Please Enter Number Only
                                </div>
                                <div *ngIf="customerForm.get('expiryDate').errors.required">
                                    Please provide a Card Expiry Date.
                                </div>
                                <div *ngIf="customerForm.get('expiryDate').hasError('maxlength') || customerForm.get('expiryDate').hasError('minlength')">
                                    Please provide 2 Digit Only.
                                </div>
                            </div> 
                        </div>
                        <div>
                            <label for="floatingInput">Expiry Year</label>
                            <input type="text" formControlName="expiryYear" class="form-control" id="floatingInput"/>
                            <div class="error" *ngIf="customerForm.get('expiryYear').invalid && (customerForm.get('expiryYear').dirty || customerForm.get('expiryYear').touched)">
                                <div *ngIf="customerForm.get('expiryYear').errors.pattern">
                                    Please Enter Number Only
                                </div>
                                <div *ngIf="customerForm.get('expiryYear').errors.required">
                                    Please provide a Card Expiry Year.
                                </div>
                                <div *ngIf="customerForm.get('expiryYear').hasError('maxlength') || customerForm.get('expiryYear').hasError('minlength')">
                                    Please provide last 2 Digit Only.
                                </div>
                            </div> 
                        </div>
                    </div>
                    <div>
                        <label for="floatingInput">Name On Card</label>
                        <input type="text" formControlName="name" class="form-control" id="floatingInput"/>
                        <div class="error" *ngIf="customerForm.get('name').invalid && (customerForm.get('name').dirty || customerForm.get('name').touched)">
                            <div *ngIf="customerForm.get('name').errors.pattern">
                                Please Enter Characters Only
                            </div>
                            <div *ngIf="customerForm.get('name').errors.required">
                                Please provide a Name.
                            </div>
                        </div>
                    </div>
                    <div>
                        <label for="floatingInput">CVV</label>
                        <input type="text" formControlName="cvv" class="form-control" id="floatingInput"/>
                        <div class="error" *ngIf="customerForm.get('cvv').invalid && (customerForm.get('cvv').dirty || customerForm.get('cvv').touched)">
                            <div *ngIf="customerForm.get('cvv').errors.pattern">
                                Please Enter Number Only
                            </div>
                            <div *ngIf="customerForm.get('cvv').errors.required">
                                Please provide a CVV.
                            </div>
                            <div *ngIf="customerForm.get('cvv').hasError('maxlength') || customerForm.get('cvv').hasError('minlength')">
                                Please provide 3/4 Digit.
                            </div>
                        </div> 
                    </div>
                </section>
                <section *ngIf="!isLoading">
                    <button class="w-100 btn btn-lg btn-primary" type="submit" [disabled]="!customerForm.valid">
                        Save
                    </button>
                </section>
                <section *ngIf="isLoading">
                    <button class="w-100 btn btn-lg btn-primary" disabled>
                        Storing...
                    </button>
                </section>
            </div>
        </form>
    </div>
</div>